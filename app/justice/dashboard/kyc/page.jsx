"use client";

import React, { useState } from "react";
import BVN from "./bvn/page";
import FacialVerification from "./facial-verification/page";

const Kyc = ({ isOpen, onClose }) => {
  const [selectedOption, setSelectedOption] = useState(null);
  const [isModalOpen, setIsModalOpen] = useState(false);

    if (!isOpen) return null;

  const handleSelectOption = (option) => {
    setSelectedOption(option);
  };

  const handleProceed = () => {
    if (selectedOption) {
      setIsModalOpen(true);
    } else {
      alert("Please select an option before proceeding.");
    }
  };

  // Handle closing the modal
  const handleCloseModal = () => {
    setIsModalOpen(false);
  };

  const handleClose = () => {
    onClose();
    // window.location.reload();
  };

  return (
    <div className="kyc">
      <div className="kyc__overlay" onClick={handleClose}></div>
      <div className="kyc__added-notif">
        <div className="kyc__added-notif__heading">
          <svg
            width="104"
            height="117"
            viewBox="0 0 144 157"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <g style={{ "mix-blend-mode": "luminosity" }}>
              <g filter="url(#filter0_d_6126_25992)">
                <path
                  d="M65.868 12.6367C69.6477 10.4544 74.3046 10.4544 78.0843 12.6367L121.631 37.7785C125.411 39.9608 127.739 43.9937 127.739 48.3581V98.6419C127.739 103.006 125.411 107.039 121.631 109.221L78.0843 134.363C74.3046 136.546 69.6477 136.546 65.868 134.363L22.321 109.221C18.5413 107.039 16.2129 103.006 16.2129 98.6419V48.3581C16.2129 43.9937 18.5413 39.9608 22.321 37.7785L65.868 12.6367Z"
                  fill="url(#paint0_angular_6126_25992)"
                />
              </g>
              <path
                d="M77.6966 18.1396C74.1407 16.0847 69.7595 16.0847 66.2035 18.1396L27.0497 40.7655C23.4938 42.8204 21.3035 46.6178 21.3035 50.7272V95.9791C21.3035 100.088 23.4938 103.886 27.0497 105.941L66.2035 128.567C69.7595 130.622 74.1407 130.622 77.6966 128.567L116.85 105.941C120.406 103.886 122.597 100.088 122.597 95.9791V50.7272C122.597 46.6178 120.406 42.8204 116.85 40.7655L77.6966 18.1396Z"
                fill="url(#paint1_linear_6126_25992)"
                stroke="url(#paint2_linear_6126_25992)"
                stroke-width="1.01802"
              />
              <path
                fill-rule="evenodd"
                clip-rule="evenodd"
                d="M122.086 80.1624V95.9814C122.086 99.9091 119.993 103.538 116.594 105.502L77.4406 128.128C74.0422 130.092 69.8552 130.092 66.4568 128.128L38.4043 111.917C41.5638 90.6154 65.037 74.0693 93.5248 74.0693C103.971 74.0693 113.743 76.2941 122.086 80.1624Z"
                fill="#006D3F"
                fill-opacity="0.58"
              />
              <path
                d="M37.7129 53.6569C38.2202 53.6334 38.6495 53.4383 39.0007 53.0715C39.3519 52.7047 39.5314 52.2676 39.5314 51.7603C39.5314 52.2676 39.7031 52.7047 40.0543 53.0715C40.4056 53.4383 40.8348 53.6334 41.3421 53.6569C40.8348 53.6803 40.4056 53.8754 40.0543 54.2422C39.8845 54.4151 39.7509 54.6201 39.6611 54.8453C39.5713 55.0704 39.5272 55.3111 39.5314 55.5534C39.5314 55.0461 39.3597 54.609 39.0007 54.2422C38.6495 53.8754 38.2202 53.6803 37.7129 53.6569ZM39.5314 48.0374C40.5148 47.9905 41.3499 47.6081 42.0368 46.8901C42.7236 46.172 43.067 45.3213 43.067 44.3301C43.067 45.3213 43.4104 46.172 44.0972 46.8901C44.7841 47.6081 45.6192 47.9827 46.6104 48.0374C45.9626 48.0686 45.3694 48.2481 44.8231 48.5915C44.2846 48.9271 43.8553 49.3798 43.5353 49.9418C43.2231 50.5037 43.067 51.1047 43.067 51.7603C43.067 50.7691 42.7236 49.9105 42.0368 49.1925C41.3499 48.4666 40.5148 48.0842 39.5314 48.0374ZM42.1226 56.4432C42.8641 56.412 43.4963 56.1232 44.0114 55.5846C44.5265 55.0461 44.7841 54.4061 44.7841 53.6569C44.7841 54.4061 45.0416 55.0461 45.5567 55.5846C46.0719 56.1232 46.6963 56.412 47.4377 56.4432C46.6963 56.4744 46.0719 56.7632 45.5567 57.3017C45.0416 57.8402 44.7841 58.4802 44.7841 59.2295C44.7841 58.4802 44.5265 57.8402 44.0114 57.3017C43.5192 56.7783 42.8406 56.4698 42.1226 56.4432ZM47.4377 52.7437C48.1792 52.7125 48.8036 52.4237 49.3187 51.8852C49.8338 51.3466 50.0835 50.7066 50.0835 49.9496C50.0835 50.6988 50.3411 51.3388 50.8562 51.8774C51.3713 52.4159 52.0035 52.7047 52.745 52.7359C52.0035 52.7671 51.3713 53.0559 50.8562 53.5944C50.3411 54.1329 50.0835 54.7729 50.0835 55.5222C50.0835 54.7729 49.826 54.1329 49.3187 53.5944C48.8036 53.0637 48.1792 52.7749 47.4377 52.7437Z"
                fill="white"
                fill-opacity="0.4"
              />
              <path
                d="M87.0898 101.508C87.5972 101.485 88.0264 101.29 88.3776 100.923C88.7289 100.556 88.9084 100.119 88.9084 99.6118C88.9084 100.119 89.0801 100.556 89.4313 100.923C89.7825 101.29 90.2118 101.485 90.7191 101.508C90.2118 101.532 89.7825 101.727 89.4313 102.094C89.2615 102.267 89.1278 102.472 89.038 102.697C88.9482 102.922 88.9042 103.163 88.9084 103.405C88.9084 102.898 88.7367 102.461 88.3776 102.094C88.0264 101.727 87.5972 101.532 87.0898 101.508ZM88.9084 95.8889C89.8918 95.8421 90.7269 95.4597 91.4137 94.7416C92.1005 94.0236 92.444 93.1729 92.444 92.1816C92.444 93.1729 92.7874 94.0236 93.4742 94.7416C94.161 95.4597 94.9961 95.8343 95.9874 95.8889C95.3396 95.9202 94.7464 96.0997 94.2 96.4431C93.6615 96.7787 93.2322 97.2314 92.9122 97.7933C92.6001 98.3553 92.444 98.9562 92.444 99.6118C92.444 98.6206 92.1005 97.7621 91.4137 97.0441C90.7269 96.3182 89.8918 95.9358 88.9084 95.8889ZM91.4996 104.295C92.241 104.264 92.8732 103.975 93.3883 103.436C93.9035 102.898 94.161 102.258 94.161 101.508C94.161 102.258 94.4186 102.898 94.9337 103.436C95.4488 103.975 96.0732 104.264 96.8147 104.295C96.0732 104.326 95.4488 104.615 94.9337 105.153C94.4186 105.692 94.161 106.332 94.161 107.081C94.161 106.332 93.9035 105.692 93.3883 105.153C92.8962 104.63 92.2176 104.321 91.4996 104.295ZM96.8147 100.595C97.5561 100.564 98.1805 100.275 98.6956 99.7367C99.2107 99.1982 99.4605 98.5582 99.4605 97.8011C99.4605 98.5504 99.7181 99.1904 100.233 99.7289C100.748 100.267 101.38 100.556 102.122 100.587C101.38 100.619 100.748 100.907 100.233 101.446C99.7181 101.985 99.4605 102.625 99.4605 103.374C99.4605 102.625 99.2029 101.985 98.6956 101.446C98.1805 100.915 97.5561 100.626 96.8147 100.595Z"
                fill="white"
                fill-opacity="0.4"
              />
              <path
                d="M83.0078 40.9332C83.5151 40.9098 83.9444 40.7147 84.2956 40.3479C84.6468 39.981 84.8263 39.544 84.8263 39.0366C84.8263 39.544 84.998 39.981 85.3493 40.3479C85.7005 40.7147 86.1297 40.9098 86.6371 40.9332C86.1297 40.9566 85.7005 41.1518 85.3493 41.5186C85.1795 41.6915 85.0458 41.8965 84.956 42.1216C84.8662 42.3467 84.8221 42.5875 84.8263 42.8298C84.8263 42.3225 84.6546 41.8854 84.2956 41.5186C83.9444 41.1518 83.5151 40.9566 83.0078 40.9332ZM84.8263 35.3137C85.8097 35.2669 86.6449 34.8845 87.3317 34.1664C88.0185 33.4484 88.3619 32.5977 88.3619 31.6064C88.3619 32.5977 88.7053 33.4484 89.3922 34.1664C90.079 34.8845 90.9141 35.2591 91.9053 35.3137C91.2575 35.345 90.6644 35.5245 90.118 35.8679C89.5795 36.2035 89.1502 36.6562 88.8302 37.2181C88.518 37.7801 88.3619 38.381 88.3619 39.0366C88.3619 38.0454 88.0185 37.1869 87.3317 36.4689C86.6449 35.743 85.8097 35.3606 84.8263 35.3137ZM87.4175 43.7195C88.159 43.6883 88.7912 43.3995 89.3063 42.861C89.8214 42.3225 90.079 41.6825 90.079 40.9332C90.079 41.6825 90.3366 42.3225 90.8517 42.861C91.3668 43.3995 91.9912 43.6883 92.7326 43.7195C91.9912 43.7508 91.3668 44.0395 90.8517 44.5781C90.3366 45.1166 90.079 45.7566 90.079 46.5059C90.079 45.7566 89.8214 45.1166 89.3063 44.5781C88.8141 44.0546 88.1355 43.7462 87.4175 43.7195ZM92.7326 40.0201C93.4741 39.9888 94.0985 39.7001 94.6136 39.1615C95.1287 38.623 95.3785 37.983 95.3785 37.2259C95.3785 37.9752 95.636 38.6152 96.1512 39.1537C96.6663 39.6923 97.2985 39.981 98.0399 40.0122C97.2985 40.0435 96.6663 40.3322 96.1512 40.8708C95.636 41.4093 95.3785 42.0493 95.3785 42.7986C95.3785 42.0493 95.1209 41.4093 94.6136 40.8708C94.0985 40.3401 93.4741 40.0513 92.7326 40.0201Z"
                fill="white"
                fill-opacity="0.4"
              />
              <path
                d="M33.7012 92.0439C34.4621 92.0088 35.106 91.7161 35.6329 91.1658C36.1597 90.6156 36.429 89.96 36.429 89.199C36.429 89.96 36.6865 90.6156 37.2133 91.1658C37.7402 91.7161 38.3841 92.0088 39.145 92.0439C38.3841 92.079 37.7402 92.3717 37.2133 92.9219C36.9586 93.1813 36.7581 93.4888 36.6234 93.8265C36.4888 94.1642 36.4227 94.5253 36.429 94.8887C36.429 94.1278 36.1714 93.4722 35.6329 92.9219C35.106 92.3717 34.4621 92.079 33.7012 92.0439ZM36.429 83.6147C37.9041 83.5444 39.1567 82.9708 40.187 81.8937C41.2172 80.8166 41.7323 79.5405 41.7323 78.0537C41.7323 79.5405 42.2475 80.8166 43.2777 81.8937C44.3079 82.9708 45.5606 83.5327 47.0474 83.6147C46.0757 83.6615 45.186 83.9307 44.3665 84.4459C43.5587 84.9493 42.9148 85.6283 42.4348 86.4712C41.9665 87.3141 41.7323 88.2156 41.7323 89.199C41.7323 87.7122 41.2172 86.4244 40.187 85.3473C39.1567 84.2586 37.9041 83.6849 36.429 83.6147ZM40.3158 96.2234C41.428 96.1765 42.3762 95.7434 43.1489 94.9356C43.9216 94.1278 44.3079 93.1678 44.3079 92.0439C44.3079 93.1678 44.6943 94.1278 45.467 94.9356C46.2396 95.7434 47.1762 96.1765 48.2884 96.2234C47.1762 96.2702 46.2396 96.7034 45.467 97.5112C44.6943 98.319 44.3079 99.279 44.3079 100.403C44.3079 99.279 43.9216 98.319 43.1489 97.5112C42.4106 96.726 41.3928 96.2633 40.3158 96.2234ZM48.2884 90.6741C49.4006 90.6273 50.3372 90.1941 51.1098 89.3863C51.8825 88.5785 52.2572 87.6185 52.2572 86.4829C52.2572 87.6068 52.6435 88.5668 53.4162 89.3746C54.1889 90.1824 55.1371 90.6156 56.2493 90.6624C55.1371 90.7092 54.1889 91.1424 53.4162 91.9502C52.6435 92.758 52.2572 93.718 52.2572 94.8419C52.2572 93.718 51.8708 92.758 51.1098 91.9502C50.3372 91.1541 49.4006 90.721 48.2884 90.6741Z"
                fill="white"
                fill-opacity="0.4"
              />
              <g filter="url(#filter1_i_6126_25992)">
                <path
                  d="M84.7197 81.2979C85.3896 81.2979 85.9326 81.8409 85.9326 82.5108V88.1749C85.9326 88.8447 85.3896 89.3877 84.7197 89.3877H60.0012C59.3313 89.3877 58.7883 88.8447 58.7883 88.1749V82.5108C58.7883 81.8409 59.3313 81.2979 60.0012 81.2979H67.0693C67.7391 81.2979 68.2821 80.7549 68.2821 80.0851V63.5603C68.2821 62.7529 67.0764 62.2556 66.4101 62.7115C65.5633 63.2463 64.605 63.7589 63.5352 64.2492C62.4655 64.7395 61.3958 65.1406 60.3261 65.4526C59.7366 65.6246 59.181 65.7491 58.6592 65.8263C57.9966 65.9243 57.4512 65.3776 57.4512 64.7078V58.7763C57.4512 58.1064 57.9996 57.564 58.6513 57.4092C59.1637 57.2875 59.722 57.0938 60.3261 56.828C61.4849 56.2931 62.6215 55.6691 63.7358 54.956C64.8947 54.2428 65.8753 53.5519 66.6775 52.8834C67.1789 52.4611 67.571 52.0936 67.8536 51.7807C68.1489 51.4539 68.5553 51.2119 68.9958 51.2119H76.2288C76.8986 51.2119 77.4417 51.7549 77.4417 52.4248V80.0851C77.4417 80.7549 77.9847 81.2979 78.6545 81.2979H84.7197Z"
                  fill="url(#paint3_linear_6126_25992)"
                />
                <path
                  d="M84.7197 81.2979C85.3896 81.2979 85.9326 81.8409 85.9326 82.5108V88.1749C85.9326 88.8447 85.3896 89.3877 84.7197 89.3877H60.0012C59.3313 89.3877 58.7883 88.8447 58.7883 88.1749V82.5108C58.7883 81.8409 59.3313 81.2979 60.0012 81.2979H67.0693C67.7391 81.2979 68.2821 80.7549 68.2821 80.0851V63.5603C68.2821 62.7529 67.0764 62.2556 66.4101 62.7115C65.5633 63.2463 64.605 63.7589 63.5352 64.2492C62.4655 64.7395 61.3958 65.1406 60.3261 65.4526C59.7366 65.6246 59.181 65.7491 58.6592 65.8263C57.9966 65.9243 57.4512 65.3776 57.4512 64.7078V58.7763C57.4512 58.1064 57.9996 57.564 58.6513 57.4092C59.1637 57.2875 59.722 57.0938 60.3261 56.828C61.4849 56.2931 62.6215 55.6691 63.7358 54.956C64.8947 54.2428 65.8753 53.5519 66.6775 52.8834C67.1789 52.4611 67.571 52.0936 67.8536 51.7807C68.1489 51.4539 68.5553 51.2119 68.9958 51.2119H76.2288C76.8986 51.2119 77.4417 51.7549 77.4417 52.4248V80.0851C77.4417 80.7549 77.9847 81.2979 78.6545 81.2979H84.7197Z"
                  fill="#DAFFB7"
                  fill-opacity="0.85"
                />
              </g>
              <path
                d="M66.546 62.9266L66.5461 62.9268L66.5538 62.9215C66.7935 62.7575 67.1631 62.7506 67.494 62.8953C67.8258 63.0405 68.0276 63.2949 68.0276 63.5603V80.0851C68.0276 80.6144 67.5986 81.0434 67.0693 81.0434H60.0012C59.1908 81.0434 58.5338 81.7004 58.5338 82.5108V88.1749C58.5338 88.9853 59.1908 89.6422 60.0012 89.6422H84.7197C85.5301 89.6422 86.1871 88.9853 86.1871 88.1749V82.5108C86.1871 81.7004 85.5301 81.0434 84.7197 81.0434H78.6545C78.1252 81.0434 77.6962 80.6144 77.6962 80.0851V52.4248C77.6962 51.6144 77.0392 50.9574 76.2288 50.9574H68.9958C68.4612 50.9574 67.9912 51.2489 67.6648 51.6101C67.393 51.911 67.0107 52.27 66.5142 52.6882C65.7236 53.347 64.7536 54.0308 63.6024 54.7392L63.6024 54.7392L63.5986 54.7416C62.4944 55.4483 61.3687 56.0663 60.2215 56.5959C59.6289 56.8565 59.0862 57.0444 58.5925 57.1616C57.858 57.3361 57.1967 57.9586 57.1967 58.7763V64.7078C57.1967 65.5078 57.8561 66.2024 58.6964 66.0781C59.2314 65.9989 59.7985 65.8716 60.3973 65.697C61.4796 65.3813 62.5609 64.9757 63.6413 64.4806C64.7196 63.9863 65.6881 63.4685 66.546 62.9266Z"
                stroke="white"
                stroke-width="0.509011"
              />
            </g>
            <defs>
              <filter
                id="filter0_d_6126_25992"
                x="0.445675"
                y="0.0842352"
                width="143.062"
                height="156.534"
                filterUnits="userSpaceOnUse"
                color-interpolation-filters="sRGB"
              >
                <feFlood flood-opacity="0" result="BackgroundImageFix" />
                <feColorMatrix
                  in="SourceAlpha"
                  type="matrix"
                  values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"
                  result="hardAlpha"
                />
                <feOffset dy="4.85145" />
                <feGaussianBlur stdDeviation="7.88361" />
                <feComposite in2="hardAlpha" operator="out" />
                <feColorMatrix
                  type="matrix"
                  values="0 0 0 0 0.051416 0 0 0 0 0.051416 0 0 0 0 0.051416 0 0 0 0.32 0"
                />
                <feBlend
                  mode="normal"
                  in2="BackgroundImageFix"
                  result="effect1_dropShadow_6126_25992"
                />
                <feBlend
                  mode="normal"
                  in="SourceGraphic"
                  in2="effect1_dropShadow_6126_25992"
                  result="shape"
                />
              </filter>
              <filter
                id="filter1_i_6126_25992"
                x="56.9414"
                y="50.7031"
                width="29.5"
                height="39.1934"
                filterUnits="userSpaceOnUse"
                color-interpolation-filters="sRGB"
              >
                <feFlood flood-opacity="0" result="BackgroundImageFix" />
                <feBlend
                  mode="normal"
                  in="SourceGraphic"
                  in2="BackgroundImageFix"
                  result="shape"
                />
                <feColorMatrix
                  in="SourceAlpha"
                  type="matrix"
                  values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"
                  result="hardAlpha"
                />
                <feOffset />
                <feGaussianBlur stdDeviation="2.54505" />
                <feComposite
                  in2="hardAlpha"
                  operator="arithmetic"
                  k2="-1"
                  k3="1"
                />
                <feColorMatrix
                  type="matrix"
                  values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.2 0"
                />
                <feBlend
                  mode="normal"
                  in2="shape"
                  result="effect1_innerShadow_6126_25992"
                />
              </filter>
              <radialGradient
                id="paint0_angular_6126_25992"
                cx="0"
                cy="0"
                r="1"
                gradientUnits="userSpaceOnUse"
                gradientTransform="translate(71.9762 73.5) rotate(90) scale(62.5 55.7633)"
              >
                <stop stop-color="#11AF49" />
                <stop offset="0.54" stop-color="#21ED6A" />
                <stop offset="1" stop-color="#008D32" />
              </radialGradient>
              <linearGradient
                id="paint1_linear_6126_25992"
                x1="71.9501"
                y1="17.1074"
                x2="71.9501"
                y2="129.599"
                gradientUnits="userSpaceOnUse"
              >
                <stop stop-color="#00CC25" />
                <stop offset="0.0001" stop-color="#57F936" />
                <stop offset="1" stop-color="#009B07" />
              </linearGradient>
              <linearGradient
                id="paint2_linear_6126_25992"
                x1="71.9501"
                y1="17.1074"
                x2="71.9501"
                y2="129.599"
                gradientUnits="userSpaceOnUse"
              >
                <stop stop-color="#99FFA3" />
                <stop offset="1" stop-color="#68EE76" />
              </linearGradient>
              <linearGradient
                id="paint3_linear_6126_25992"
                x1="66.3276"
                y1="38.6129"
                x2="78.4755"
                y2="88.8355"
                gradientUnits="userSpaceOnUse"
              >
                <stop offset="0.205" stop-color="#43CF18" />
                <stop offset="1" stop-color="#B8FF2A" />
              </linearGradient>
            </defs>
          </svg>

          <h2>You’re almost there 😍</h2>
          <p>
            Complete your <span>Tier 1 KYC</span> to activate your -- Account
          </p>
        </div>

        <div className="kyc__added-notif__options">
          <div
            className={`kyc__added-notif__options__box ${
              selectedOption === "bvn" ? "selected" : ""
            }`}
            onClick={() => handleSelectOption("bvn")}
          >
            <div>
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="24"
                height="24"
                viewBox="0 0 24 24"
                fill="none"
              >
                <path
                  d="M11.5 1L2 6V8H21V6M16 10V17H19V10M2 22H21V19H2M10 10V17H13V10M4 10V17H7V10H4Z"
                  fill="#009b07"
                />
              </svg>
            </div>

            <div className="kyc__added-notif__options__box__text">
              <h2>BVN</h2>
              <p>Please provide us with your BVN Number respectively</p>
            </div>
          </div>

          <div
            className={`kyc__added-notif__options__box ${
              selectedOption === "face" ? "selected" : ""
            }`}
            onClick={() => handleSelectOption("face")}
          >
            <div>
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="24"
                height="24"
                viewBox="0 0 24 24"
                fill="none"
              >
                <path
                  d="M19.6504 19.405C20.2024 19.29 20.5324 18.712 20.2574 18.218C19.6514 17.131 18.6974 16.175 17.4774 15.447C15.9054 14.509 13.9784 14 11.9984 14C10.0184 14 8.09144 14.508 6.51944 15.447C5.29944 16.175 4.34544 17.131 3.73944 18.218C3.46444 18.712 3.79444 19.29 4.34644 19.405C9.39321 20.4569 14.6027 20.4569 19.6494 19.405"
                  fill="#009b07"
                />
                <path
                  d="M12 13C14.7614 13 17 10.7614 17 8C17 5.23858 14.7614 3 12 3C9.23858 3 7 5.23858 7 8C7 10.7614 9.23858 13 12 13Z"
                  fill="#009b07"
                />
              </svg>
            </div>

            <div className="kyc__added-notif__options__box__text">
              <h2>Face Verification</h2>
              <p>
                Get a face shot by following the instructions that will be
                provided
              </p>
            </div>
          </div>
        </div>

        <div className="kyc__added-notif__proceed">
          <p>
            By clicking on Accept and Proceed, you consent to provide <br /> us
            with the requested data.
          </p>

          <div onClick={handleProceed}>Procced</div>
        </div>
      </div>

      {isModalOpen && selectedOption === "bvn" && (
        <BVN onClose={handleCloseModal} />
      )}

      {isModalOpen && selectedOption === "face" && (
        <FacialVerification onClose={handleCloseModal} />
      )}
    </div>
  );
};

export default Kyc;
